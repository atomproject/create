!function(e){"use strict";var t=window.define;"function"==typeof t&&t.amd?t(["jquery","jquery-ui/sortable"],e):e(window.jQuery)}(function(e){"use strict";function t(e,t,i){return e>t&&t+i>e}e.widget("mjs.nestedSortable",e.extend({},e.ui.sortable.prototype,{options:{disableParentChange:!1,doNotClear:!1,expandOnHover:700,isAllowed:function(){return!0},isTree:!1,listType:"ol",maxLevels:0,protectRoot:!1,rootID:null,rtl:!1,startCollapsed:!1,tabSize:20,branchClass:"mjs-nestedSortable-branch",collapsedClass:"mjs-nestedSortable-collapsed",disableNestingClass:"mjs-nestedSortable-no-nesting",errorClass:"mjs-nestedSortable-error",expandedClass:"mjs-nestedSortable-expanded",hoveringClass:"mjs-nestedSortable-hovering",leafClass:"mjs-nestedSortable-leaf",disabledClass:"mjs-nestedSortable-disabled"},_create:function(){var t,i=this;if(this.element.data("ui-sortable",this.element.data("mjs-nestedSortable")),!this.element.is(this.options.listType))throw t="nestedSortable: Please check that the listType option is set to your actual list type",new Error(t);this.options.isTree&&this.options.expandOnHover&&(this.options.tolerance="intersect"),e.ui.sortable.prototype._create.apply(this,arguments),this.options.isTree&&e(this.items).each(function(){var e=this.item,t=e.hasClass(i.options.collapsedClass),o=e.hasClass(i.options.expandedClass);e.children(i.options.listType).length?(e.addClass(i.options.branchClass),t||o||(i.options.startCollapsed?e.addClass(i.options.collapsedClass):e.addClass(i.options.expandedClass))):e.addClass(i.options.leafClass)})},_destroy:function(){return this.element.removeData("mjs-nestedSortable").removeData("ui-sortable"),e.ui.sortable.prototype._destroy.apply(this,arguments)},_mouseDrag:function(t){var i,o,s,n,r,l,a,c,h,p,d,m,u,g,f,v,y=this,b=this.options,C=!1,x=e(document);for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<b.scrollSensitivity?(C=this.scrollParent.scrollTop()+b.scrollSpeed,this.scrollParent.scrollTop(C)):t.pageY-this.overflowOffset.top<b.scrollSensitivity&&(C=this.scrollParent.scrollTop()-b.scrollSpeed,this.scrollParent.scrollTop(C)),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<b.scrollSensitivity?(C=this.scrollParent.scrollLeft()+b.scrollSpeed,this.scrollParent.scrollLeft(C)):t.pageX-this.overflowOffset.left<b.scrollSensitivity&&(C=this.scrollParent.scrollLeft()-b.scrollSpeed,this.scrollParent.scrollLeft(C))):(t.pageY-x.scrollTop()<b.scrollSensitivity?(C=x.scrollTop()-b.scrollSpeed,x.scrollTop(C)):e(window).height()-(t.pageY-x.scrollTop())<b.scrollSensitivity&&(C=x.scrollTop()+b.scrollSpeed,x.scrollTop(C)),t.pageX-x.scrollLeft()<b.scrollSensitivity?(C=x.scrollLeft()-b.scrollSpeed,x.scrollLeft(C)):e(window).width()-(t.pageX-x.scrollLeft())<b.scrollSensitivity&&(C=x.scrollLeft()+b.scrollSpeed,x.scrollLeft(C))),C!==!1&&e.ui.ddmanager&&!b.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),r=this.placeholder.offset().top,this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this.hovering=this.hovering?this.hovering:null,this.mouseentered=this.mouseentered?this.mouseentered:!1,function(){var e=this.placeholder.parent().parent();e&&e.closest(".ui-sortable").length&&(l=e)}.call(this),a=this._getLevel(this.placeholder),c=this._getChildLevels(this.helper),d=document.createElement(b.listType),i=this.items.length-1;i>=0;i--)if(o=this.items[i],s=o.item[0],n=this._intersectsWithPointer(o),n&&o.instance===this.currentContainer){if(-1!==s.className.indexOf(b.disabledClass))if(2===n){if(h=this.items[i+1],h&&h.item.hasClass(b.disabledClass))continue}else if(1===n&&(p=this.items[i-1],p&&p.item.hasClass(b.disabledClass)))continue;if(m=1===n?"next":"prev",s!==this.currentItem[0]&&this.placeholder[m]()[0]!==s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],s):!0)){if(this.mouseentered||(e(s).mouseenter(),this.mouseentered=!0),b.isTree&&e(s).hasClass(b.collapsedClass)&&b.expandOnHover&&(this.hovering||(e(s).addClass(b.hoveringClass),this.hovering=window.setTimeout(function(){e(s).removeClass(b.collapsedClass).addClass(b.expandedClass),y.refreshPositions(),y._trigger("expand",t,y._uiHash())},b.expandOnHover))),this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(o))break;e(s).mouseleave(),this.mouseentered=!1,e(s).removeClass(b.hoveringClass),this.hovering&&window.clearTimeout(this.hovering),this.hovering=null,!b.protectRoot||this.currentItem[0].parentNode===this.element[0]&&s.parentNode!==this.element[0]?b.protectRoot||this._rearrange(t,o):this.currentItem[0].parentNode!==this.element[0]&&s.parentNode===this.element[0]?(e(s).children(b.listType).length||(s.appendChild(d),b.isTree&&e(s).removeClass(b.leafClass).addClass(b.branchClass+" "+b.expandedClass)),u="down"===this.direction?e(s).prev().children(b.listType):e(s).children(b.listType),void 0!==u[0]&&this._rearrange(t,null,u)):this._rearrange(t,o),this._clearEmpty(s),this._trigger("change",t,this._uiHash());break}}if(function(){var e=this.placeholder.prev();g=e.length?e:null}.call(this),null!=g)for(;"li"!==g[0].nodeName.toLowerCase()||-1!==g[0].className.indexOf(b.disabledClass)||g[0]===this.currentItem[0]||g[0]===this.helper[0];){if(!g[0].previousSibling){g=null;break}g=e(g[0].previousSibling)}if(function(){var e=this.placeholder.next();f=e.length?e:null}.call(this),null!=f)for(;"li"!==f[0].nodeName.toLowerCase()||-1!==f[0].className.indexOf(b.disabledClass)||f[0]===this.currentItem[0]||f[0]===this.helper[0];){if(!f[0].nextSibling){f=null;break}f=e(f[0].nextSibling)}return this.beyondMaxLevels=0,null==l||null!=f||b.protectRoot&&l[0].parentNode==this.element[0]||!(b.rtl&&this.positionAbs.left+this.helper.outerWidth()>l.offset().left+l.outerWidth()||!b.rtl&&this.positionAbs.left<l.offset().left)?null==g||g.hasClass(b.disableNestingClass)||!(g.children(b.listType).length&&g.children(b.listType).is(":visible")||!g.children(b.listType).length)||b.protectRoot&&this.currentItem[0].parentNode===this.element[0]||!(b.rtl&&this.positionAbs.left+this.helper.outerWidth()<g.offset().left+g.outerWidth()-b.tabSize||!b.rtl&&this.positionAbs.left>g.offset().left+b.tabSize)?this._isAllowed(l,a,a+c):(this._isAllowed(g,a,a+c+1),g.children(b.listType).length||(g[0].appendChild(d),b.isTree&&g.removeClass(b.leafClass).addClass(b.branchClass+" "+b.expandedClass)),r&&r<=g.offset().top?g.children(b.listType).prepend(this.placeholder):g.children(b.listType)[0].appendChild(this.placeholder[0]),"undefined"!=typeof l&&this._clearEmpty(l[0]),this._trigger("change",t,this._uiHash())):(l.after(this.placeholder[0]),v=!l.children(b.listItem).children("li:visible:not(.ui-sortable-helper)").length,b.isTree&&v&&l.removeClass(this.options.branchClass+" "+this.options.expandedClass).addClass(this.options.leafClass),"undefined"!=typeof l&&this._clearEmpty(l[0]),this._trigger("change",t,this._uiHash())),this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t){this.beyondMaxLevels&&(this.placeholder.removeClass(this.options.errorClass),this.domPosition.prev?e(this.domPosition.prev).after(this.placeholder):e(this.domPosition.parent).prepend(this.placeholder),this._trigger("revert",t,this._uiHash())),e("."+this.options.hoveringClass).mouseleave().removeClass(this.options.hoveringClass),this.mouseentered=!1,this.hovering&&window.clearTimeout(this.hovering),this.hovering=null,this._relocate_event=t,this._pid_current=e(this.domPosition.parent).parent().attr("id"),this._sort_current=this.domPosition.prev?e(this.domPosition.prev).next().index():e("li ul ")[0],e.ui.sortable.prototype._mouseStop.apply(this,arguments)},_intersectsWithSides:function(e){var i=this.options.isTree?.8:.5,o=t(this.positionAbs.top+this.offset.click.top,e.top+e.height*i,e.height),s=t(this.positionAbs.top+this.offset.click.top,e.top-e.height*i,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return this.floating&&l?"right"===l&&n||"left"===l&&!n:r&&("down"===r&&o||"up"===r&&s)},_contactContainers:function(){this.options.protectRoot&&this.currentItem[0].parentNode===this.element[0]||e.ui.sortable.prototype._contactContainers.apply(this,arguments)},_clear:function(){var t,i;for(e.ui.sortable.prototype._clear.apply(this,arguments),(this._pid_current!==this._uiHash().item.parent().parent().attr("id")||this._sort_current!==this._uiHash().item.index())&&this._trigger("relocate",this._relocate_event,this._uiHash()),t=this.items.length-1;t>=0;t--)i=this.items[t].item[0],this._clearEmpty(i)},serialize:function(t){var i=e.extend({},this.options,t),o=this._getItemsAsjQuery(i&&i.connected),s=[];return e(o).each(function(){var t=(e(i.item||this).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/),o=(e(i.item||this).parent(i.listType).parent(i.items).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/);t&&s.push((i.key||t[1])+"["+(i.key&&i.expression?t[1]:t[2])+"]="+(o?i.key&&i.expression?o[1]:o[2]:i.rootID))}),!s.length&&i.key&&s.push(i.key+"="),s.join("&")},toHierarchy:function(t){function i(t){var s,n=(e(t).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);return n?(s={id:n[2]},e(t).children(o.listType).children(o.items).length>0&&(s.children=[],e(t).children(o.listType).children(o.items).each(function(){var e=i(this);s.children.push(e)})),s):void 0}var o=e.extend({},this.options,t),s=[];return e(this.element).children(o.items).each(function(){var e=i(this);s.push(e)}),s},toArray:function(t){function i(t,r,l){var a,c,h,p=l+1;return e(t).children(o.listType).children(o.items).length>0&&(r++,e(t).children(o.listType).children(o.items).each(function(){p=i(e(this),r,p)}),r--),a=e(t).attr(o.attribute||"id").match(o.expression||/(.+)[-=_](.+)/),r===s+1?c=o.rootID:(h=e(t).parent(o.listType).parent(o.items).attr(o.attribute||"id").match(o.expression||/(.+)[-=_](.+)/),c=h[2]),a&&n.push({item_id:a[2],parent_id:c,depth:r,left:l,right:p}),l=p+1}var o=e.extend({},this.options,t),s=o.startDepthCount||0,n=[],r=1;return o.excludeRoot||(n.push({item_id:o.rootID,parent_id:null,depth:s,left:r,right:2*(e(o.items,this.element).length+1)}),r++),e(this.element).children(o.items).each(function(){r=i(this,s+1,r)}),n=n.sort(function(e,t){return e.left-t.left})},_clearEmpty:function(t){function i(t,i,o,s){s&&(i=[o,o=i][0]),e(t).removeClass(i).addClass(o)}var o=this.options,s=e(t).children(o.listType),n=s.is(":not(:empty)"),r=o.doNotClear||n||o.protectRoot&&e(t)[0]===this.element[0];o.isTree&&(i(t,o.branchClass,o.leafClass,r),r&&n&&i(t,o.collapsedClass,o.expandedClass)),r||s.remove()},_getLevel:function(e){var t,i=1;if(this.options.listType)for(t=e.closest(this.options.listType);t&&t.length>0&&!t.is(".ui-sortable");)i++,t=t.parent().closest(this.options.listType);return i},_getChildLevels:function(t,i){var o=this,s=this.options,n=0;return i=i||0,e(t).children(s.listType).children(s.items).each(function(e,t){n=Math.max(o._getChildLevels(t,i+1),n)}),i?n+1:n},_isAllowed:function(e,t,i){var o=this.options,s=this.placeholder.closest(".ui-sortable").nestedSortable("option","maxLevels"),n=this.currentItem.parent().parent(),r=o.disableParentChange&&("undefined"!=typeof e&&!n.is(e)||"undefined"==typeof e&&n.is("li"));r||!o.isAllowed(this.placeholder,e,this.currentItem)?(this.placeholder.addClass(o.errorClass),i>s&&0!==s?this.beyondMaxLevels=i-s:this.beyondMaxLevels=1):i>s&&0!==s?(this.placeholder.addClass(o.errorClass),this.beyondMaxLevels=i-s):(this.placeholder.removeClass(o.errorClass),this.beyondMaxLevels=0)}})),e.mjs.nestedSortable.prototype.options=e.extend({},e.ui.sortable.prototype.options,e.mjs.nestedSortable.prototype.options)});var dragAndDropSetup=function(){function e(e){var t=m[0];$(e.target).closest(".field-container").remove();var i="formComponents";t.classList.contains("page")&&(i="pageComponents"),s(t.tagName,t,i),0===$(".form").children(".field-container").length&&$(".canvas").addClass("empty"),e.stopImmediatePropagation(),setTimeout(function(){m[0].setFields()},0),setTimeout(function(){l()},0)}function t(e){var t=$(e.target).closest(".field-container"),i=Polymer.dom(t[0]).innerHTML,o='<li title="Click to Edit. Drag to Reorder." class="horizontal flex layout field-container">';t.hasClass("grouped")&&(o='<li title="Click to Edit. Drag to Reorder." class="horizontal grouped flex layout field-container">'),i=o+i+"</li>",t.after(i),setTimeout(function(){l()},0)}function i(e){var t=$(e.target).closest(".field-container"),i=t.children(".fieldset"),o='<div class="hover-panel"><iron-icon class="unmerge" title="Unmerge this item" icon="communication:call-split"></iron-icon><iron-icon class="duplicate" title="Clone this item" icon="content-copy"></iron-icon><iron-icon class="close" title="Remove this item" icon="close"></iron-icon></div>',s='<div class="overlap">'+o+"</div>",n=i.length;i.each(function(e){var o=i[n-e-1].getAttribute("data-category"),r='<li class="horizontal flex layout field-container">'+s+'<div class="fieldset flex" data-category="'+o+'">'+Polymer.dom(i[n-e-1]).innerHTML+"</div></li>";t.after(r)}),t.remove(),setTimeout(function(){l()},0)}function o(e){$(".canvas").hasClass("empty")&&$(".canvas").removeClass("empty");document.querySelector("#controlCall");$.ajax({url:"bower_components/"+u+"/demo/metadata.html",crossDomain:!0}).done(function(t){r(t,e)}).fail(function(e){alert("Error while connecting to server")})}function s(e,t,i){var o=document.querySelector("t-component-panel");o.component=e,o.targetComponent=t,n(t),o.propertySource="bower_components/"+e+"/property.json",o.setPanel(),"t-form"!==e.toLowerCase()&&"t-page"!==e.toLowerCase()||0===$(".canvas .fieldset").length?$(".property-panel-Header").hide():$(".property-panel-Header").show();var s=document.getElementById("propertyDrawerPanel");"main"===s.selected&&s.togglePanel()}function n(e){if(""===e.name){var t=e.tagName.slice(2);e.name=t+m[0].querySelectorAll(e.tagName).length}}function r(e,t){if(null!=e){var i=document.createElement("li");i.title="Click to Edit. Drag to Reorder.",i.className="horizontal flex layout field-container";var o=document.createElement("div");o.className="flex fieldset ",o.setAttribute("data-category",t),o.innerHTML=e;var s='<div class="hover-panel"><iron-icon class="unmerge" title="Unmerge this item" icon="communication:call-split"></iron-icon><iron-icon class="duplicate" title="Clone this item" icon="content-copy"></iron-icon><iron-icon class="close" title="Remove this item" icon="close"></iron-icon></div>';$(i).append('<div class="overlap">'+s+"</div>"),i.appendChild(o),d.append(i),"t-form"===m[0].tagName.toLowerCase()&&setTimeout(function(){m[0].setFields()},0),$(o).trigger("click")}l()}function l(){setTimeout(function(){var e=document.querySelector(".canvas"),t=a(Polymer.dom(e.parentNode).innerHTML);t=t.replace(new RegExp("\n","g"),""),$("#markup").val(btoa(t))},1e3)}function a(e){return e=e=e.replace("\n",""),e=e.replace(new RegExp('<div title="Click to Edit. Drag to Reorder." class="page canvas vertical layout flex">',"g"),""),e=e.replace(new RegExp('<span class="dextop">Click on an element or drag it here to start building your form.</span>',"g"),""),e=e.replace(new RegExp('<span class="mobile">Browse elements using the button above to start building your form.</span>',"g"),""),e=e.replace(new RegExp('<span class="dextop">Click on an element or drag it here to start building your page.</span>',"g"),""),e=e.replace(new RegExp('<span class="mobile">Browse elements using the button above to start building your page.</span>',"g"),""),e=e.replace(new RegExp('<h2 class="drag-text">',"g"),""),e=e.replace(new RegExp("</h2>","g"),""),e=e.replace(new RegExp("<ul","g"),"<div"),e=e.replace(new RegExp("ul>","g"),"div>"),e=e.replace(new RegExp("<li","g"),"<div"),e=e.replace(new RegExp("li>","g"),"div>"),e=e.replace(new RegExp("x-scope","g"),""),e=e.replace(new RegExp("iron-icon-0","g"),""),e=e.replace(new RegExp("  ","g"),""),e=e.replace(new RegExp('<div class="hover-panel"><iron-icon class="unmerge" title="Unmerge this item" icon="communication:call-split"></iron-icon><iron-icon class="duplicate" title="Clone this item" icon="content-copy"></iron-icon><iron-icon class="close" title="Remove this item" icon="close"></iron-icon></div>',"g"),""),e=e.replace(new RegExp('<div class="overlap" style="z-index: 10;"></div>',"g"),""),e=e.replace(new RegExp('<div class="overlap"></div>',"g"),""),e=e.replace(new RegExp('title="Click to Edit. Drag to Reorder."',"g"),""),e=e.replace(new RegExp('title="Click to edit form properties."',"g"),""),e=e.replace(new RegExp("sortable empty connectedSortable field-container ui-droppable ui-sortable","g"),""),e=e.replace(new RegExp("field-container","g"),""),e=e.replace(new RegExp("t-page","g"),"div")}function c(){var e=m[0],t=a(Polymer.dom(e.parentNode).innerHTML);if("t-form"===e.tagName.toLowerCase()){t=p(t,e.name);var i=h(t,e.name,!0),o=h(t,e.name,!1)}else t='<html><head><link rel="import" href="'+atomBaseUrl+'"app/elements.html"><link rel="import" href="theme.html"></head><body>'+t+"</body></html>";var s=new JSZip;$.get("content/theme.html").then(function(n){s.file("theme.html",n),s.file(e.name+".html",t),"t-form"===e.tagName.toLowerCase()&&(s.folder("demo").file("index.html",i),s.folder("demo").file("metadata.html",o));var r=s.generate({type:"blob"});saveAs(r,e.name+".zip")})}function h(e,t,i){return i?'<html><head><link rel="import" href="../theme.html"><link rel="import" href="../'+t+'.html"></head><body><'+t+"></"+t+"></body></html>":"<"+t+"></"+t+">"}function p(e,t){var i='<link rel="import" href="'+atomUrl+'bower_components/polymer/polymer.html"></link><link rel="import" href="'+atomBaseUrl+'"formComponents/t-form/t-form.html"></link>',o='<dom-module id="'+t+'"><template>'+e+"</template></dom-module>",s='<script>Polymer({is: "'+t+"})</script>";return i+o+s}var d=$(".form"),m=$(".canvas"),u=null;$(".control").draggable({addClasses:!1,scroll:!1,appendTo:"body",helper:"clone",cursor:"move",revert:"invalid",drag:function(e,t){u=t.helper.attr("data-component")}}),d.droppable({drop:function(e,t){t.draggable.hasClass("ui-sortable-helper")||(u=t.draggable[0].getAttribute("data-component"),o(t.draggable[0].getAttribute("data-category")))}}),d.nestedSortable({placeholder:" flex placeholder-highlight",maxLevels:2,tabSize:0,scroll:!1,tolerance:"pointer",branchClass:"grouped",hoveringClass:"placeholder-highlight",listType:"ul",sort:function(e,t){t.placeholder.height(t.helper.height())},relocate:function(e,t){t.item.parent().hasClass("form")?t.item.children(".fieldset")[0].innerHTML=Polymer.dom(t.item.children(".fieldset")[0]).innerHTML:(t.item.unwrap(),t.item.children(".overlap").remove(),t.item.addClass("flex"),t.item.parent("li").addClass("grouped"),t.item=t.item.children(".fieldset").unwrap(),t.item.html(Polymer.dom(t.item[0]).innerHTML)),l()},beforeStop:function(e,t){return t.item.children(".fieldset")[0].innerHTML=Polymer.dom(t.item.children(".fieldset")[0]).innerHTML,!0},isAllowed:function(e,t,i){return!0}}),document.addEventListener("adjust-dom",function(){var e=document.querySelector(".form");$(".form").html(Polymer.dom(e).innerHTML)}),document.addEventListener("on-autosuggest-select",function(e){var t=e.detail;u=t.selectedItem.Name,o(t.selectedItem.Category),t.$.autoSuggest.value="",t.$.autoSuggest.blur(),e.stopPropagation()}),d.on("click",".fieldset",function(e){var t=e.currentTarget.children[0],i=t.tagName,o=this.getAttribute("data-category");s(i,t,o),e.stopImmediatePropagation()}),d.on("click",".overlap",function(e){$(".overlap").css("z-index","0"),$(document.elementFromPoint(e.pageX,e.pageY)).closest(".fieldset").click(),$(".overlap").css("z-index","10"),e.stopImmediatePropagation()}),d.on("click",".close",function(t){e(t)}),d.on("click",".duplicate",function(e){t(e),e.stopImmediatePropagation()}),d.on("click",".unmerge",function(e){i(e),e.stopImmediatePropagation(),e.preventDefault()}),$("#preview").on("click",function(){var e=$("#htmlContent");e.attr("target","_blank"),$("#htmlContent").submit(),event.preventDefault()}),$("#download").on("click",function(){c()}),$("body").on("click",".control",function(e){u=e.currentTarget.getAttribute("data-component"),o(e.currentTarget.getAttribute("data-category"))}),$(".component-list").on("click","paper-item.menuitem",function(){$(this).add(".component-list").toggleClass("active")}),$(".main-body , .form").on("click",function(e){var t=m[0],i="formComponents";t.classList.contains("page")&&(i="pageComponents"),s(t.tagName,t,i),e.stopImmediatePropagation()}),$(".paper-header").on("click",function(e){var t=m[0],i="formComponents";t.classList.contains("page")&&(i="pageComponents"),s(t.tagName,t,i),$(".property-panel-Header").show(),e.stopImmediatePropagation()}),$(".headerText").on("keydown",function(e){13===e.which&&($(this).blur(),window.getSelection().removeAllRanges())}),$(".headerText").on("focus",function(){function e(e){var t=document.createRange();t.selectNodeContents(e);var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}$(this).removeClass("inactive");var t=this;requestAnimationFrame(function(){e(t)})}),$(".headerText").on("blur",function(){0===$(this).text().trim().length&&($(this).hasClass("form-header")?$(this).text("Untitled Form"):$(this).text("Untitled Page")),this.scrollLeft=0,$(this).addClass("inactive")}),$(document).on("keydown","#componentSearch",function(e){9===e.keyCode&&e.preventDefault()}),document.addEventListener("property-changed",function(){l()})};!function(e){"use strict";var t=e.querySelector("#app");t.baseUrl="/",t.menu=null,""===window.location.port,t._getElementsInCategory=function(e){var i=t.menu.elements.filter(function(t){return t.category===e.name});return i},t.toggleAccordion=function(t,i,o){var s=t.currentTarget,n=e.querySelector(".menu-item.active");s.classList.contains("active")?s.classList.remove("active"):s.classList.add("active"),n&&n.classList.remove("active")},t.displayInstalledToast=function(){Polymer.dom(e).querySelector("platinum-sw-cache").disabled||Polymer.dom(e).querySelector("#caching-complete").show()},t.addEventListener("dom-change",function(){console.log("Our app is ready to rock!")}),window.addEventListener("WebComponentsReady",function(){setTimeout(function(){dragAndDropSetup()},0)})}(document);